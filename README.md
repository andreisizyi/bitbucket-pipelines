# CI/CD
Методологія розробки та набір практик, що дозволяє забезпечити послідовний та автоматизований спосіб сборки, пакування та тестування додатків.
CI (Continuous Integration) - перевірка програми (наприклад, складання модулів JS, PHP, та автоматизовані тести).
CD (Continuous Delivery) - деплой додатку на сервер (оновлення змінених файлів на сервері, сборка модулів JS, PHP, проведення міграцій (приклад для laravel)).
Детальніше можно почитати в google, обравши напралення, наприклад CI/CD для JS розробників, або для PHP і тд.

---

## 1. Bitbucket setup
1. В існуючому проекті відкрити **"Repository settings"**.
2. У розділі **"PIPELINES"** обрати пунк **"Settings"** та активувати **"Enable Pipelines"**.
3. Обрати пункт **"SSH keys"** та згенерувати або додати існуючи ключи (вони будуть потрібні для CD, розгортання оновлення на сервері, тобто ці ключи потрібно щоб були саме на сервері)

---

## 2. Конфігурування файлу bitbucket-pipelines.yml
1. Створити у корні репозиторія файл **bitbucket-pipelines.yml**.
2. У файл для початку додати код, приведений у **[bitbucket-pipelines.yml](bitbucket-pipelines.yml)**.
3. Ознайомитися з **[прикладами налаштуваняя файлу](https://support.atlassian.com/bitbucket-cloud/docs/configure-bitbucket-pipelinesyml/)** та внести необхідні для поточного проекту зміни.

---
## 3. Рекмоендації з налаштування
1. Намагайтеся по максимуму виносити довгі послідобновті команд у зовнішні файли, щоб зробити файл налаштування bitbucket-pipelines.yml коротшим і зрозумілішим для інших розробників у команді.
2. Налаштовувати проект спочатку локально у **docker**, а далі рогзортати у bitbucket середовищі вже з docker-compose.yml для запуску тестової зборки і автоматичних тестів (CI). Pipelines мають розширення docker для роботи з подібними проектами. Це дозволить не вказувати серію команд для встановлення linux додатків, необхідних для роботи проекта.
3. Для CD використовувати **.sh** файли на сервері (Скрипти, що дозволяют запустити необхідні команди). Таким чином можно буде у файлі bitbucket-pipelines.yml викликати необхідний скрипт однією строкою, в якому вже будут вказані усі необхідні команди для деплою.
